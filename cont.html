    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@400;700&display=swap"/>
        <script src="https://kit.fontawesome.com/your-font-awesome-kit.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sora%3A300%2C400%2C600%2C700"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        <link rel="stylesheet" href="assets\css\index.css">
        <script src="assets\js\index.js"></script>
    </head>
    <body>
        <div class="att">
        <div class="third">
        <div class="container">
            <h2>Daily Workers</h2>
            <!--div class="crt_date">
                <p id="today"></p>
            </div-->
            <div class="button">
                <button class="add">
                    <i class="fas fa-plus"></i>
                    Add Worker
                </button>
            </div>
        </div>
        <div class="dt_ct">
            <div class="date-DU2">
                <button><img class="ooui-next-ltr-LoY" src="assets\img\ooui-next-ltr.png"/></button>
                <div class="item-13-HTt">
                <p class="item-13-1en"></p>
                <p class="tue-8UW"></p>
                </div>
                <div class="today-4d4">
                <div class="item-14-nJA">
                    <p class="item-14-Laa"></p>
                    <p class="wed-TfC"></p>
                </div>
                </div>
                <div class="item-15-BLJ">
                <p class="item-15-hpS"></p>
                <p class="thu-pu4"></p>
                </div>
                <button><img class="ooui-next-ltr-Zre" src="assets\img\ooui-next-ltr-FpA.png"/></button>
            </div>
            <div class="mon-Lc6">
                <button><img class="vector-fPU" src="assets\img\vector-uhg.png"/>
                <p class="jun-amL"></p>
                <img class="ooui-next-ltr-82A" src="assets\img\ooui-next-ltr-ZPU.png"/>
                </button>
            </div>
            <div class="count">
                <table>
                    <thead>
                        <tr>
                            <th>Present</th>
                            <th>Absent</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="prs"></td>
                            <td class="abs"></td>
                            <td class="tot"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
            <div class="workers">
                <form method="POST" action="http://localhost:3000/contract/submit">
                    <label for="male">MALE: </label>
                    <input type="text" name="male" required>
                    <label for="female">FEMALE: </label>
                    <input type="text" name="female" reqluired>
                    <label for="contract">CONTRACT: </label>
                    <input type="text" name="contract" required>
                </form>
                <div class="work_but"><button>Mark Attendance</button></div>
            </div>
        </div>
        <div class="four">
            <table id="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Worker Type</th>
                        <th>Shift</th>
                        <th>Present/Absent</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="dis">
                            <div clas           s="p_a">
                            <button class="prs" id="present" style="margin-right: 10px; background-color: green;">Present</button>
                            <button class="abs" id="absent" style="margin-left: 10px; background-color: red;">Absent</button>
                        </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="popup-container">
            <div class="popup-content">
                <div class="popup-header">
                    <h2>Add Worker</h2>
                    <button class="cancel">Cancel</button>
                    <button class="add_wr" id="addButton">Add</button>
                </div>
                <div class="form">
                    <h2 style="margin-top: 10px;">WORKER DETAILS</h2>
                    <form id="workerContractForm" method="POST" action="http://localhost:3000/contract/submit">
                        <input type="text" placeholder="Name of the Worker" name="w_name" required><br>
                        <input type="number" placeholder="Phone Number" name="phone" required><br>
                        <input type="text" placeholder="Worker Type" name="w_type" required><br>
                        <input type="number" placeholder="Salary Per Shift (Rs.)" name="sal" required><br>
                        <input type="number" placeholder="Hours Per Shift" name="shift" required><br>
                    
                        <h2 style="margin-top: 10px;">CONTRACT DETAILS</h2>
                        <input type="date" placeholder="Start Date" name="start" required><br>
                        <input type="date" placeholder="End Date" name="end" required><br>
                    
                        <input type="submit" value="Submit">
                    </form>
                </div>
                </div>
            </div>
        </div>
            <script>
                const workerForm = document.getElementById('workerForm');
                const contractForm = document.getElementById('contractForm');
                const addButton = document.getElementById('addButton');
            
                // Add click event listener to the Add button
                addButton.addEventListener('click', function (event) {
                    // Prevent the default form submission behavior
                    event.preventDefault();
            
                    // Submit both forms programmatically
                    workerForm.submit();
                    contractForm.submit();
                });
            </script>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const tasksTableBody = document.querySelector('#tasks-table tbody');
            
                // Function to fetch and display tasks
                const fetchAndDisplayTasks = () => {
                    fetch('http://localhost:3000/contract/det')
                        .then(response => response.json())
                        .then(tasks => {
                            tasksTableBody.innerHTML = ''; // Clear existing table rows
            
                            tasks.forEach(task => {
                                const row = document.createElement('tr');
                                row.innerHTML = `
                                    <td>${task.w_name}</td>
                                    <td>${task.phone}</td>
                                    <td>${task.w_type}</td>
                                    <td>${task.start}</td>
                                    <td>${task.end}</td>
                                `;
                                tasksTableBody.appendChild(row);
                            });
                        })
                        .catch(error => console.error('Error retrieving tasks:', error));
                };
            
                // Fetch tasks when the page loads
                fetchAndDisplayTasks();
            
                // Handle form submission
                const form = document.querySelector('form');
                form.addEventListener('submit', event => {
                    event.preventDefault();
            
                    const formData = new FormData(form);
                    const taskData = {
                        w_name: formData.get('w_name'),
                        phone: formData.get('phone'),
                        w_type: formData.get('w_type'),
                        sal:formData.get('sal'),
                        shift:formData.get('shift'),
                        start: formData.get('start'),
                        end: formData.get('end')
                    };
            
                    fetch('http://localhost:3000/contract/submit', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(taskData)
                    })
                    .then(response => {
                        if (response.ok) {
                            console.log('Record inserted successfully.');
                            form.reset();
                            fetchAndDisplayTasks(); // Update the display with the new task
                        } else {
                            console.error('Error inserting record.');
                        }
                    })
                    .catch(error => console.error('Error inserting record:', error));
                });
            });
            </script>
    </body>
    </html>